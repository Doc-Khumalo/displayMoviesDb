(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),o=n.n(i),c=n(6),l=n(38),s=n(15),u=(n(53),n(5)),p=n(8),m={movies:[],genres:[],genresFilters:[],tempMovieArr:[],tempMovieId:[],images:[],genreDisplay:[],rating:0},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"weatherApp/SET_MOVIES":return Object(p.a)({},e,{movies:Object(u.a)(n),tempMovieArr:Object(u.a)(n)});case"weatherApp/SET_GENRES":var a=[];return n.map(function(e){return a.push({value:e.id,label:e.name})}),Object(p.a)({},e,{genres:Object(u.a)(n),genreDisplay:[].concat(a)});case"weatherApp/SET_RATING":var r=e.tempMovieArr.filter(function(e){return Math.round(e.vote_average)>=n.map(function(e){return e.value})});return r=e.tempMovieId.length>0?r.filter(function(t){return e.tempMovieId.every(function(e){return t.genre_ids.includes(e)})}):r,Object(p.a)({},e,{movies:r,rating:n.map(function(e){return e.value})});case"weatherApp/SET_IMAGES":return Object(p.a)({},e,{images:n});case"weatherApp/SET_FILTER":var i=[];n.map(function(e){return i.push(e.id)}),i=Object(u.a)(new Set(i));var o=e.tempMovieArr.filter(function(e){return i.every(function(t){return e.genre_ids.includes(t)})});return o=o.filter(function(t){return Math.round(t.vote_average)>=e.rating}),Object(p.a)({},e,{genres:Object(u.a)(e.genres),tempMovieId:i,movies:o});default:return e}},f=Object(c.c)({reducer:d}),g=n(11),v=n(12),h=n(16),E=n(13),w=n(17),b={apiUrl:function(e){return"https://api.themoviedb.org/3/movie/now_playing?api_key=".concat(e)},apiUrlGenres:function(e){return"https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(e)},apiImages:function(e){return"https://api.themoviedb.org/3/configuration?api_key=".concat(e)},header:"Movie listings",filterTextHeader:"No movies matched filter criteria",filterText:"Consider adjusting filters",genreDefaultValue:"Select genres",ratingDefaultValue:"Minimum rating",options:[{value:1,label:"One"},{value:2,label:"Two"},{value:3,label:"Three"},{value:4,label:"Four"},{value:5,label:"Five"},{value:6,label:"Six"},{value:7,label:"Seven"},{value:8,label:"Eight"},{value:9,label:"Nine"}]},y=(n(54),function(e){var t=e.movies,n=e.genres,a=e.images;return r.a.createElement("div",{className:"movies-wrapper"},r.a.createElement("ul",{className:"row"},t.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("li",{className:"movies-item col"},r.a.createElement("header",{className:"hover-text"},r.a.createElement("p",null,r.a.createElement("span",{className:"sub-text"},e.title)),r.a.createElement("div",{className:"description-wrapper"},e.overview)),r.a.createElement("img",{src:"".concat(a.secure_base_url,"w780").concat(e.poster_path),alt:""}),r.a.createElement("div",{className:"rating-details"},n.length>0&&r.a.createElement(r.a.Fragment,null,n.map(function(t,n){return r.a.createElement(r.a.Fragment,{key:n},e.genre_ids.map(function(e,n){return r.a.createElement(r.a.Fragment,{key:n},e===t.id&&r.a.createElement("span",{className:"genre"},t.name))}))})))))})))}),O=n(25),S=n(41),_=n.n(S),j=(n(55),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this,e))).handleFilter=function(e){var t=n.props.setFilter,a=n.state.filterItems,r=[];e.map(function(e){return r.push({id:e.value,name:e.label})}),a.length,n.setState({filterItems:Object(u.a)(e)}),t(r)},n.handleFilterRatings=function(e){var t=n.props.setRating;n.setState({selectedOption:e}),t([e])},n.handleSort=function(e){return e.length>0?e.sort(function(e,t){return parseFloat(t.popularity)-parseFloat(e.popularity)}):[]},n.state={sortedMovies:[],showRatingsFilter:!1,selectedOption:"Minimum rating",filterItems:[]},n}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e="99ebf840696e0f12339eacafdfddcc69";(0,this.props.getData)(b.apiUrl(e),b.apiUrlGenres(e),b.apiImages(e))}},{key:"render",value:function(){var e=this.props,t=e.movies,n=e.genresFilters,a=e.images,i=e.genreDisplay,o=e.genres,c=this.state.selectedOption,l=this.handleSort(t);return[r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"row filter-wrapper"},i.length>0&&r.a.createElement("div",{className:"col"},r.a.createElement(O.a,{placeholder:b.genreDefaultValue,closeMenuOnSelect:!1,components:_()(),isMulti:!0,options:i,onChange:this.handleFilter})),r.a.createElement("div",{className:"col"},r.a.createElement(O.a,{placeholder:b.ratingDefaultValue,value:c,onChange:this.handleFilterRatings,options:b.options}))),l.length>0?r.a.createElement(y,{genres:o,movies:l,images:a}):r.a.createElement(r.a.Fragment,null,n.length>0&&r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,b.filterTextHeader),r.a.createElement("p",null,b.filterText))))]}}]),t}(r.a.Component)),N=n(42),A=n.n(N),M=function(e,t){return A.a.get(e,{params:t})},T=function(e){return{type:"weatherApp/SET_MOVIES",payload:e}},F=function(e){return{type:"weatherApp/SET_IMAGES",payload:e}},k=function(e){return{type:"weatherApp/SET_GENRES",payload:e}},I={getData:function(e,t,n){return function(a){var r;a((r=e,function(e){M(r).then(function(t){e(T(t.data.results))}).catch(function(e){throw new Error(e)})})),a(function(e){return function(t){M(e).then(function(e){t(k(e.data.genres))}).catch(function(e){throw new Error(e)})}}(t)),a(function(e){return function(t){M(e).then(function(e){t(F(e.data.images))}).catch(function(e){throw new Error(e)})}}(n))}},setFilter:function(e){return{type:"weatherApp/SET_FILTER",payload:e}},setRating:function(e){return{type:"weatherApp/SET_RATING",payload:e}}},R=Object(s.b)(function(e){return{movies:e.reducer.movies,genres:e.reducer.genres,genreDisplay:e.reducer.genreDisplay,filterRatingOptions:e.reducer.filterRatingOptions,images:e.reducer.images,genresFilters:e.reducer.genresFilters}},I)(j),D=function(e){function t(){return Object(g.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",{className:"header-wrapper"},b.header)),r.a.createElement(R,null))}}]),t}(a.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(99);var G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,U=[l.a],V=G(c.a.apply(void 0,U)),W=Object(c.e)(f,V),L=document.getElementById("root");o.a.render(r.a.createElement(s.a,{store:W},r.a.createElement(D,null)),L),function(e){if("serviceWorker"in navigator){if(new URL("/displayMoviesDb",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/displayMoviesDb","/service-worker.js");x?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):C(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):C(t,e)})}}()},44:function(e,t,n){e.exports=n(100)},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){}},[[44,1,2]]]);
//# sourceMappingURL=main.6d8dfb55.chunk.js.map